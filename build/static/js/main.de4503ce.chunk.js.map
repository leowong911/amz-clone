{"version":3,"sources":["StateProvider.js","firebase.js","Header.js","Product.js","Home.js","CheckoutProduct.js","reducer.js","Subtotal.js","Checkout.js","Login.js","axios.js","Payment.js","Order.js","Orders.js","App.js","reportWebVitals.js","index.js"],"names":["StateContext","createContext","StateProvider","reducer","initialState","children","Provider","value","useReducer","useStateValue","useContext","db","firebase","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","measurementId","firestore","auth","Header","basket","user","className","to","src","type","onClick","signOut","email","length","Product","id","title","image","price","rating","dispatch","Array","fill","map","_","i","NotificationManager","success","item","Home","alt","CheckoutProduct","hideButton","getBasketTotal","reduce","amount","state","action","index","findIndex","basketItem","newBasket","splice","console","warn","Subtotal","history","useHistory","renderText","decimalScale","displayType","thousandSeparator","prefix","e","push","Checkout","AnimatedCheckOut","React","forwardRef","ref","staggerDelayBy","enterAnimation","leaveAnimation","Login","useState","setEmail","password","setPassword","onChange","target","preventDefault","signInWithEmailAndPassword","then","catch","error","alert","message","createUserWithEmailAndPassword","log","instance","axios","create","baseURL","Payment","stripe","useStripe","elements","useElements","succeeded","setSucceeded","processing","setProcessing","setError","disabled","setDisabled","clientSecret","setClientSecret","useEffect","a","method","url","response","data","getClientSecret","handleSubmit","event","confirmCardPayment","payment_method","card","getElement","CardElement","paymentIntent","collection","doc","uid","set","created","replace","onSubmit","empty","Order","order","moment","unix","format","Orders","orders","setOrders","orderBy","onSnapshot","snapshot","docs","promise","loadStripe","App","onAuthStateChanged","authUser","path","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.de4503ce.chunk.js","sourcesContent":["import React, {createContext, useContext, useReducer} from 'react';\n\n// Prepares the dataLayer\nexport const StateContext = createContext();\n\n// Wrap app and provide the Data layer\nexport const StateProvider = ({reducer, initialState, children}) => (\n    <StateContext.Provider value={useReducer(reducer, initialState)}>\n        {children}\n    </StateContext.Provider>\n);\n\n// Pull information from the data layer\nexport const useStateValue = () => useContext(StateContext);","import firebase from 'firebase';\n\nconst firebaseConfig = {\n  apiKey: \"AIzaSyDMd6PsLG5JgB9ie4KUpZ1U1n5euPiWdmE\",\n  authDomain: \"clone-5ec49.firebaseapp.com\",\n  projectId: \"clone-5ec49\",\n  storageBucket: \"clone-5ec49.appspot.com\",\n  messagingSenderId: \"934105287628\",\n  appId: \"1:934105287628:web:5c99c4bf9c6764bd852b69\",\n  measurementId: \"G-V266MB0L9L\"\n};\n\n  const firebaseApp = firebase.initializeApp(firebaseConfig);\n\n  const db = firebaseApp.firestore();\n  const auth = firebase.auth();\n\n  export {db, auth};","import React from 'react'\nimport './css/Header.css'\nimport SearchIcon from '@material-ui/icons/Search';\nimport ShoppingBasketIcon from '@material-ui/icons/ShoppingBasket';\nimport { Link } from 'react-router-dom'\nimport { useStateValue } from './StateProvider';\nimport { auth } from './firebase';\n\nfunction Header() {\n    const [{basket, user}, dispatch] = useStateValue();\n    const handleAuth = () => {\n        if(user) {\n            auth.signOut();\n        }\n    }\n\n    return (\n        <div className='header'>\n            <Link to ='/'>\n            <img className=\"header__logo\"\n            src='http://pngimg.com/uploads/amazon/amazon_PNG11.png'/>\n            </Link>\n            <div className=\"header__search\">\n                <input className=\"header__searchInput\" type=\"text\" />\n                <SearchIcon className='header__searchIcon'/>\n            </div>\n            <div className=\"header__nav\">\n            <Link to={!user && '/login'}>\n                <div className='header__option' onClick={handleAuth}>\n                    <span className='header__optionLineOne'>\n                        Hello, {user ? user.email : 'Guest'}\n                    </span>\n                    <span className='header__optionLineTwo'>\n                        {user ? 'Sign Out' : 'Sign In'}\n                    </span>\n                </div>\n                </Link>\n                <Link to='./orders'>\n                <div className='header__option'>\n                <span className='header__optionLineOne'>\n                        Returns\n                    </span>\n                    <span className='header__optionLineTwo'>\n                        & Orders\n                    </span>\n                </div>\n                </Link>\n                <div className='header__option'>\n                <span className='header__optionLineOne'>\n                        Your\n                    </span>\n                    <span className='header__optionLineTwo'>\n                        Prime\n                    </span>\n                </div>\n<Link to ='./Checkout'>\n<div className='header__optionBasket'>\n    <ShoppingBasketIcon />\n    <span className='header__optionLineTwo header__backetCount'>\n        {basket?.length}\n    </span>\n</div>\n</Link>\n            </div>\n        </div>\n    )\n}\n\nexport default Header\n","import React from 'react'\nimport './css/Product.css'\nimport { useStateValue } from './StateProvider';\nimport GradeIcon from '@material-ui/icons/Grade';\nimport 'react-notifications/lib/notifications.css';\nimport {NotificationContainer, NotificationManager} from 'react-notifications';\n\nfunction Product({id, title, image, price, rating}) {\n\n    const [{basket}, dispatch] = useStateValue();\n   //console.log('This is the basket =>', basket);\n    const addToBasket = () => {\n        NotificationManager.success('Added 1 Product to shopping basket.', 'Product Added.');\n        //action to add item to data layer\n        dispatch({\n            type: 'ADD_TO_BASKET',\n            item: {\n            id: id,\n            title: title,\n            image: image,\n            price: price,\n            rating: rating,\n            },\n        });\n        \n    }\n    \n    return (\n        <div className='product'>\n            <div className='product__info'>\n            <NotificationContainer/>\n                <p className='product__title'>{title}</p>\n                <p className='product__price'>\n                    <small>$</small>\n                   <strong>{price}</strong>\n                </p>\n                <div className='product__rating'>\n                    {Array(rating)\n                    .fill()\n                    .map((_, i) => (<GradeIcon />))}\n                </div>\n            </div>\n            <img src={image}/>\n            <button onClick={ addToBasket }>Add To Basket</button>\n            \n        </div>\n    );\n}\n\nexport default Product\n","import React from 'react'\nimport './css/Home.css'\nimport Product from './Product'\n\n\n\n\nfunction Home() {\n    return (\n        <div className='home'>\n            <div className='home__container'>\n                <img className='home__image'\n                src=\"https://images-fe.ssl-images-amazon.com/images/G/09/JP-hq/2020/img/Amazon_Pantry/XCM_Manual_1278771_JP_gw_hero_2_3474615_3000x1200_2X._CB417334680_.jpg\"\n                alt=\"\" />\n\n            <div className='home__row'>\n                <Product \n                    id = {1}\n                    title='カゴメ 朝のフルーツこれ一本 200ml×3本' \n                    price={14.5} \n                    image='https://images-na.ssl-images-amazon.com/images/I/91pcBsMh2KL._AC_SL1500_.jpg' \n                    rating={4}/>\n                <Product \n                    id = {2}\n                    title='シルコット 消毒ウェットティッシュ つめかえ用 40枚入×3個' \n                    price={35} \n                    image='https://images-na.ssl-images-amazon.com/images/I/617BhcIjgnL._AC_SL1000_.jpg' \n                    rating={3}/>\n            </div>\n\n            <div className='home__row'>\n            <Product \n                    id = {3}\n                    title='【5G対応格安SIM】「事務手数料3,300円が無料」iPhone12対応/家族割あり/SIMカードのみ/Ymobile SIMスターターキット' \n                    price={7.5} \n                    image='https://images-na.ssl-images-amazon.com/images/I/71vnTFnRG3L._AC_SL1500_.jpg' \n                    rating={5}/>\n                    <Product \n                    id = {4}\n                    title='アサヒ飲料 「カラダカルピス」430 430ml ×3本 [機能性表示食品]' \n                    price={28} \n                    image='https://images-na.ssl-images-amazon.com/images/I/81IRoqnIZkL._AC_SL1500_.jpg' \n                    rating={4}/>\n                    <Product \n                    id = {5}\n                    title='ワンランク上のつけごこち ネピア 鼻セレブ マスク めくる ふつうサイズ 4枚入' \n                    price={25} \n                    image='https://images-na.ssl-images-amazon.com/images/I/816B9W8A6EL._AC_SL1500_.jpg' \n                    rating={3}/>\n            </div>\n\n            <div className='home__row'>\n            <Product \n                    id = {6}\n                    title='Apple iPhone 11 Pro 64GB ミッドナイトグリーン SIMフリー (整備済み品)' \n                    price={5600} \n                    image='https://images-na.ssl-images-amazon.com/images/I/41j9jBfwwQL._AC_.jpg' \n                    rating={4}/>\n            </div>\n\n            </div>\n        </div>\n    )\n}\n\nexport default Home\n","import React from 'react'\nimport './css/CheckoutProduct.css'\nimport { useStateValue } from './StateProvider'\nimport GradeIcon from '@material-ui/icons/Grade';\n\n\nfunction CheckoutProduct({id, image, title, price, rating, hideButton}) {\n\n    const [{ basket }, dispatch] = useStateValue();\n    const removeBasket = () => {\n        // remove item from basket.\n        dispatch({\n            type: 'REMOVE_FROM_BASKET',\n            id: id,\n        })\n    }\n\n\n    return (\n        <div className='checkoutProduct'>\n            <img className='checkoutProduct__image' src={image} alt=''/>\n            <div className='checkoutProduct__info'>\n                \n                <p className='checkoutProduct__title'>{title}</p>\n                <p className='checkoutProduct__price'>\n                <short>$</short>\n                <strong>{price}</strong>\n                </p>\n                <p className='checkoutProduct__rating'>\n                {Array(rating)\n                .fill()\n                .map((_, i) =>(\n                <GradeIcon />\n                ))}\n                </p>\n                {!hideButton && (\n                <button onClick={removeBasket} >Remove from Backet</button>)}\n            </div>\n        </div>\n    )\n}\n\nexport default CheckoutProduct\n","export const initialState = {\n    basket: [],\n    user: null\n}\n\n//Selector\nexport const getBasketTotal = (basket) =>\nbasket?.reduce((amount, item) => item.price + amount, 0)\n\n\nconst reducer = (state, action) => {\n    switch(action.type){\n        case 'ADD_TO_BASKET':\n            return {\n                ...state,\n                basket: [...state.basket, action.item],\n            };\n\n        case 'REMOVE_FROM_BASKET':\n            const index = state.basket.findIndex(\n                (basketItem) => basketItem.id === action.id);\n                let newBasket = [...state.basket];\n\n                if(index >=0){\n                    newBasket.splice(index, 1);\n\n                }else{\n                    console.warn(\n                        `cannot remove product (id: ${action.id}) as its not in basket!`\n                    )\n                }\n\n                return {\n                    ...state,\n                basket: newBasket\n                }\n\n        case 'EMPTY_BASKET':\n            return{\n                ...state,\n                basket: []\n            }\n\n        case 'SET_USER':\n            return{\n                ...state,\n                user: action.user\n            }\n\n        default:\n            return state;\n    }\n};\n\nexport default reducer;","import React from 'react'\nimport './css/Subtotal.css'\nimport CurrencyFormat from 'react-currency-format';\nimport { useStateValue } from './StateProvider';\nimport { getBasketTotal } from './reducer';\nimport { useHistory } from 'react-router-dom';\n\nfunction Subtotal() {\n    const history = useHistory();\n    const [{basket}, dispatch] = useStateValue();\n\n\n    return (\n        <div className='subtotal'>\n            <CurrencyFormat\n            renderText={(value) => (\n                <>\n                <p>\n                Subtotal ({basket?.length} items):\n                <strong>{value}</strong>\n                </p>\n                <small className='subtotal__gift'>\n                    <input type='checkbox'/> This order contains a gift\n                </small>\n                </>\n            )}\n            decimalScale={2}\n            value={getBasketTotal(basket)}\n            displayType={'text'}\n            thousandSeparator={true}\n            prefix={'$'}\n            />\n\n            <button onClick={e => history.push('/payment')}>Proceed to Checkout</button> \n        </div>\n    )\n}\n\nexport default Subtotal\n","import React from 'react'\nimport './css/Checkout.css'\nimport CheckoutProduct from './CheckoutProduct';\nimport { useStateValue } from './StateProvider'\nimport Subtotal from './Subtotal'\nimport FlipMove from \"react-flip-move\";\n\nfunction Checkout() {\n    const [{basket, user}] = useStateValue();\n\n    const AnimatedCheckOut = React.forwardRef(({ item, index }, ref) => (\n        <div ref={ref}>\n          <CheckoutProduct\n            key={`anim ${index} ${item.id}`}\n            title={item.title}\n            id={item.id}\n            rating={item.rating}\n            price={item.price}\n            image={item.image}\n          />\n        </div>\n      ));\n\n    return (\n        <div className='checkout'>\n            <div className='checkout__left'>\n            <img className='checkout__ad' src='https://images-fe.ssl-images-amazon.com/images/G/09/JP-hq/2020/img/Camera/XCM_Manual_1289412_1490849_JP_3570575_650x45_ja_JP._CB416163977_.jpg' alt=''/>\n            <div>\n            <h3>Hello, {user? user.email : 'Guest'}.</h3>\n            <h2 className='checkout__title'>{basket.length === 0 ? \"Shopping Basket is Empty...\" : \"Your Shopping Basket:\"}</h2>\n            <FlipMove\n            staggerDelayBy={150}\n            enterAnimation=\"accordionVertical\"\n            leaveAnimation=\"accordionVertical\"\n          >\n            {basket?.map((item, i) => (\n              <AnimatedCheckOut\n                key={`an ${i} ${item.id}`}\n                item={item}\n                index={i}\n              />\n            ))}\n          </FlipMove>\n            </div>\n            </div>\n            \n\n            <div className='checkout__right'>\n            {basket.length === 0 ? \"\" : <Subtotal /> }\n            </div>\n        </div>\n    )\n}\n\nexport default Checkout\n","import React, {useState} from 'react'\nimport './css/Login.css'\nimport { Link, useHistory } from 'react-router-dom';\nimport { auth } from './firebase';\n\nfunction Login() {\n    const history  = useHistory();\n    const [email, setEmail] = useState('');\n    const [password, setPassword] = useState('');\n    const signIn = e => {\n        e.preventDefault();\n\n        //firebase login\n        auth\n            .signInWithEmailAndPassword(email, password)\n            .then(auth => {\n                history.push('/')\n            })\n            .catch(error => alert(error.message))\n        \n    }\n    const register = e => {\n        e.preventDefault();\n\n        //firebase register\n        auth\n            .createUserWithEmailAndPassword(email, password)\n            .then((auth) => {\n                //success create user\n                console.log(auth);\n                if (auth) {\n                    history.push('/')\n                }\n            })\n            .catch(error => alert(error.message))\n    }\n\n    return (\n        <div className='login'>\n            <Link to='/'>\n            <img className='login__logo' src='https://upload.wikimedia.org/wikipedia/commons/thumb/a/af/Amazon.co.jp_logo.svg/1280px-Amazon.co.jp_logo.svg.png' alt=''/>\n            </Link>\n            <div className='login__container'>\n                <h1>Sign In</h1>\n                <form>\n                    <h5>Email:</h5>\n                    <input type='text' value={email} \n                    onChange={e => setEmail(e.target.value)}/>\n                    <h5>Password:</h5>\n                    <input type='password' value={password}\n                    onChange={e => setPassword(e.target.value)} />\n                    <button onClick={signIn} type='submit'\n                    className='login__SigninBtn'>Sign In</button>\n                </form>\n\n                <p>\n                By continuing, you agree to website Conditions of Use and Privacy Notice.\n                </p>\n                <button onClick={register}\n                className='login__newAccountBtn'>Create a new account.</button>\n            </div>\n\n        </div>\n    )\n}\n\nexport default Login\n","import axios from 'axios';\n\nconst instance = axios.create({\n    baseURL: 'https://us-central1-clone-5ec49.cloudfunctions.net/api' // cloud function API URL.\n});\n\nexport default instance;","import { CardElement, useElements, useStripe } from '@stripe/react-stripe-js';\nimport axios from './axios';\nimport React, { useState, useEffect } from 'react'\nimport CurrencyFormat from 'react-currency-format';\nimport { Link, useHistory } from 'react-router-dom';\nimport CheckoutProduct from './CheckoutProduct';\nimport './css/Payment.css'\nimport { getBasketTotal } from './reducer';\nimport { useStateValue } from './StateProvider';\nimport { db } from './firebase';\n\nfunction Payment() {\n    const [{basket, user}, dispatch] = useStateValue();\n    const history = useHistory();\n\n    const stripe = useStripe();\n    const elements = useElements();\n\n    const [succeeded, setSucceeded] = useState(false);\n    const [processing, setProcessing] = useState(\"\");\n    const [error, setError] = useState(null);\n    const [disabled, setDisabled] = useState(true);\n    const [clientSecret, setClientSecret] = useState(true);\n\n    useEffect(() => {\n        // generate the special stripe secret which allows us to charge a customer\n        const getClientSecret = async () => {\n            const response = await axios({\n                method: 'post',\n                // Stripe expects the total in a currencies subunits\n                url: `/payments/create?total=${getBasketTotal(basket) * 100}`\n            });\n            setClientSecret(response.data.clientSecret)\n        }\n\n        getClientSecret();\n    }, [basket])\n\n    console.log('THE SECRET IS >>>', clientSecret)\n    const handleSubmit = async (event) =>{\n        event.preventDefault();\n        //block duplicate click\n        setProcessing(true);\n\n        const payload = await stripe.confirmCardPayment(clientSecret, {\n            payment_method: {\n                card: elements.getElement(CardElement)\n            }\n        }).then(({ paymentIntent }) => {\n            // paymentIntent = paymentConfirmation\n\n            db.collection('users')\n                .doc(user?.uid)\n                .collection('orders')\n                .doc(paymentIntent.id)\n                .set({\n                    basket: basket,\n                    amount: paymentIntent.amount,\n                    created: paymentIntent.created\n                })\n\n            setSucceeded(true);\n            setError(null);\n            setProcessing(false);\n\n            dispatch({\n                type: 'EMPTY_BASKET'\n            })\n\n            history.replace('/orders')\n        })\n    }\n\n    const handleChange = event => {\n        //Listen change in Element\n        setDisabled(event.empty);\n        setError(event.error ? event.error.message : \"\");\n    }\n\n    return (\n        <div className='payment'>\n            <div className='payment__container'>\n            <h1>Checkout for <Link to='/checkout'> {basket?.length} items</Link>. </h1>\n                <div className='payment__box'>\n                    <div className='payment__title'>\n                        <h3>Delivery Address</h3>\n                    </div>\n                    <div className='payment__addr'>\n                        <p>{user? user.email : 'Guest'}</p>\n                        <p>1/F, ABC Building</p>\n                        <p>Causeway Bay, Hong Kong</p>\n                    </div>\n                </div>\n                <div className='payment__box'>\n                    <div className='payment__title'>\n                        <h3>Review items and Delivery</h3>\n                    </div>\n                    <div className='payment__items'>\n                    {basket.map(item => (\n                        <CheckoutProduct\n                        id = {item.id}\n                        title = {item.title}\n                        image = {item.image}\n                        price = {item.price}\n                        rating = {item.rating}\n                        />\n                        )\n                    )}\n                    </div>\n                </div>\n                <div className='payment__box'>\n                <div className='payment__title'>\n                        <h3>Pay Now</h3>\n                    </div>\n                <div className='stripe__box'>\n                    <form onSubmit={handleSubmit}><CardElement onChange={handleChange} />\n                    <div className='payment__priceCon'>\n                        <CurrencyFormat\n                            renderText={(value) => (\n                                <h3>Total: {value}</h3>\n                            )}\n                            decimalScale={2}\n                            value={getBasketTotal(basket)}\n                            displayType={'text'}\n                            thousandSeparator={true}\n                            prefix={'$'}\n                            />\n                            <button disabled={processing || disabled || succeeded}>\n                                <span>{processing ? <p>Processing</p> : 'Buy Now'}</span></button>\n                    </div>\n                    {error && <div>{error}</div>}\n                    </form>\n                </div>\n                </div>\n            </div>\n        </div>\n    )\n}\n\nexport default Payment \n","import React from 'react'\nimport './css/Order.css'\nimport moment from 'moment';\nimport CheckoutProduct from './CheckoutProduct';\nimport CurrencyFormat from 'react-currency-format';\n\nfunction Order({ order }) {\n    return (\n        <div className='order'>\n            <h2>Order</h2>\n            <p>{moment.unix(order.data.created).format('MMMM Do YYYY, h:mma')}</p>\n            <p className='order__id'>\n                <small>{order.id}</small>\n            </p>\n            {order.data.basket?.map(item => (\n                <CheckoutProduct\n                    id={item.id}\n                    title={item.title}\n                    image={item.image}\n                    price={item.price}\n                    rating={item.rating}\n                    hideButton\n                    />\n            ))}\n            <CurrencyFormat\n                renderText={(value) => (\n                    <h3 className=\"order__total\">Order Total: {value}</h3>\n                )}\n                decimalScale={2}\n                value={order.data.amount / 100}\n                displayType={\"text\"}\n                thousandSeparator={true}\n                prefix={\"$\"}\n            />   \n        </div>\n    )\n}\n\nexport default Order\n","import React, { useEffect, useState } from 'react'\nimport { useHistory } from 'react-router';\nimport './css/Orders.css'\nimport { db } from './firebase'\nimport Order from './Order'\nimport { useStateValue } from './StateProvider';\n\nfunction Orders() {\n\n    const [orders, setOrders] = useState([]);\n    const [ {basket, user}, dispatch] = useStateValue();\n    const history = useHistory();\n\n    useEffect(() =>{\n        if(user){\n            db.collection('users')\n            .doc(user?.uid)\n            .collection('orders')\n            .orderBy('created', 'desc')\n            .onSnapshot(snapshot => {\n                setOrders(snapshot.docs.map(doc => ({\n                    id: doc.id,\n                    data: doc.data()\n                })))\n            })\n        }else{\n            setOrders([])\n            history.replace('/')\n        }\n    }, [user])\n\n    return (\n        <div className='orders'>\n            <h1>Your Order History</h1>\n\n            <div className='orders__order'>\n                {orders?.map(order => (\n                    <Order order={order}/>\n                ))}\n            </div>\n        </div>\n    )\n}\n\nexport default Orders\n","\nimport React, { useEffect } from \"react\";\nimport \"./css/App.css\";\nimport Header from \"./Header\";\nimport Home from \"./Home\";\nimport { BrowserRouter as Router, Switch, Route } from \"react-router-dom\";\nimport Checkout from \"./Checkout\";\nimport Login from \"./Login\";\nimport Payment from \"./Payment\";\nimport Orders from \"./Orders\";\nimport { auth } from \"./firebase\";\nimport { useStateValue } from \"./StateProvider\";\nimport { loadStripe } from \"@stripe/stripe-js\";\nimport { Elements } from \"@stripe/react-stripe-js\";\n\nconst promise = loadStripe(\"pk_test_4eNhWgB5Zc5Y5pVqPxOEoM9500lOrPeyUD\");\n\nfunction App() {\n  \n  const [{}, dispatch] = useStateValue();\n\nuseEffect(() => {\n  //just like if statement\n  auth.onAuthStateChanged(authUser => {\n    console.log('USER NAME =>', authUser);\n\n    if(authUser){\n      //user logged in.\n      dispatch({\n        type: 'SET_USER',\n      user: authUser\n      })\n      \n    }else{\n      // user is logout.\n      dispatch({\n        type: 'SET_USER',\n      user: null\n      });\n    }\n  });\n\n}, []);\n\n  return (\n    // BEM\n    <Router>\n    <div className=\"app\">\n\n    <Switch>\n      <Route path=\"/login\">\n        <Login />\n      </Route>\n\n      <Route path=\"/checkout\">\n        <Header />\n        <Checkout />\n      </Route>\n\n      <Route path='/payment'>\n        <Header />\n        <Elements stripe={promise}>\n        <Payment />\n        </Elements>\n      </Route>\n\n      <Route path='/orders'>\n        <Header />\n        <Orders />\n      </Route>\n\n      <Route path=\"/\">\n      <Header />\n      <Home />\n      </Route>\n      </Switch>\n    </div>\n    </Router>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './css/index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\nimport { StateProvider } from './StateProvider';\nimport reducer, { initialState } from './reducer';\n\nReactDOM.render(\n  <React.StrictMode>\n    <StateProvider initialState={initialState} reducer={reducer}>\n      <App />\n    </StateProvider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}